import{$ as I,A as h,B as C,Ca as D,E as _,Ea as N,Fa as R,G as l,Ga as B,Ha as j,I as w,J as r,K as s,L as g,M as x,N as m,O as c,S as d,T as M,U as v,V as O,W as P,X as y,Y as k,aa as S,da as q,fa as z,ga as Q,na as T,pa as E,qa as A,s as p,t as u,ta as V,y as b,z as a}from"./chunk-QFNS5P4G.js";function H(i,t){if(i&1&&(r(0,"div",19)(1,"p",20),d(2),s()()),i&2){let e=c(2);a(2),M(e.feedbackMessage)}}function $(i,t){if(i&1){let e=x();r(0,"button",21),m("click",function(){p(e);let o=c(2);return u(o.submitAnswer())}),d(1,"Submit"),s()}}function F(i,t){if(i&1){let e=x();r(0,"button",22),m("click",function(){p(e);let o=c(2);return u(o.restartQuiz())}),d(1,"\u{1F501} Try Again"),s()}}function U(i,t){if(i&1){let e=x();r(0,"div",3)(1,"div",4),g(2,"app-left-sidebar"),s(),r(3,"div",5)(4,"div",6)(5,"h2",7),d(6),I(7,"titlecase"),s()(),r(8,"div",8)(9,"div",9),m("click",function(){p(e);let o=c();return u(o.readQuestionAloud())}),g(10,"img",10),s(),r(11,"div",11)(12,"p"),d(13),r(14,"input",12),k("ngModelChange",function(o){p(e);let f=c();return y(f.answerInput,o)||(f.answerInput=o),u(o)}),m("keyup.enter",function(){p(e);let o=c();return u(o.submitAnswer())}),s()()()(),_(15,H,3,1,"div",13),r(16,"div",14),_(17,$,2,0,"button",15)(18,F,2,0,"button",16),s()(),r(19,"div",17),g(20,"app-right-sidebar",18),s()()}if(i&2){let e=c();a(6),O(" ",S(7,14,e.currentOperation)," \u2013 ",e.currentOperation==="sudoku"?e.level===1?"Easy":e.level===2?"Medium":"Difficult":"Level "+e.level," "),a(4),w("animate",e.isReading),a(3),v(" ",e.questions[e.currentQIndex].question.split("=")[0]," = "),a(),P("ngModel",e.answerInput),a(),l("ngIf",e.feedbackMessage),a(2),l("ngIf",!e.quizCompleted),a(),l("ngIf",e.quizCompleted&&e.score<e.questions.length),a(2),l("userName",e.userName)("score",e.score)("currentQIndex",e.currentQIndex)("totalQuestions",e.questions.length)("elapsedTime",e.elapsedTime)}}function W(i,t){i&1&&(r(0,"div")(1,"p"),d(2,"Loading questions..."),s()())}var L=class i{constructor(t,e){this.quizService=t;this.router=e}questions=[];currentQIndex=0;answerInput="";feedbackMessage="";score=0;quizCompleted=!1;level=0;currentOperation="multiplication";userAnswers=[];userName="";elapsedTime="0:00";timer;secondsElapsed=0;lastUserAnswer="";lastCorrectAnswer="";isCorrect=!0;isReading=!1;ngOnInit(){this.level=parseInt(localStorage.getItem("level")||"0",10),this.userName=localStorage.getItem("userName")||"Guest",localStorage.setItem("operation","multiplication"),this.quizService.getDivisionQuestions(this.level).subscribe({next:t=>{this.questions=t,this.userAnswers=new Array(t.length).fill(""),this.startTimer()},error:t=>console.error("\u274C Error loading Multiplication questions:",t)})}startTimer(){this.timer=setInterval(()=>{this.secondsElapsed++;let t=Math.floor(this.secondsElapsed/60),e=this.secondsElapsed%60;this.elapsedTime=`${t}:${e<10?"0":""}${e}`},1e3)}handleEnter(t){this.submitAnswer()}submitAnswer(){let e=this.questions[this.currentQIndex].answer.trim(),n=this.answerInput.trim();if(this.lastUserAnswer=n,this.lastCorrectAnswer=e,this.isCorrect=n===e,!n){alert("\u26A0\uFE0F Please enter your answer before submitting!");return}this.feedbackMessage=this.isCorrect?"\u2705 Correct!":`\u274C Your answer "${n}" is incorrect.
\u2705 Correct answer is "${e}"`,this.isCorrect&&this.score++,this.userAnswers[this.currentQIndex]=n,this.answerInput="",setTimeout(()=>{this.feedbackMessage=""},1800),this.currentQIndex<this.questions.length-1?this.currentQIndex++:this.completeQuiz()}completeQuiz(){this.quizCompleted=!0,localStorage.setItem("score",this.score.toString()),localStorage.setItem("answers",JSON.stringify(this.userAnswers)),localStorage.setItem("questions",JSON.stringify(this.questions));let t=`${this.currentOperation}_progress`,e=parseInt(localStorage.getItem(t)||"0",10);this.score===this.questions.length&&this.level>=e&&localStorage.setItem(t,(this.level+1).toString()),setTimeout(()=>this.router.navigate(["/result"]),1e3)}restartQuiz(){this.router.navigate(["/operation"])}readQuestionAloud(){let t=this.questions[this.currentQIndex]?.question;if(t&&"speechSynthesis"in window){let e=new SpeechSynthesisUtterance(t);window.speechSynthesis.cancel(),window.speechSynthesis.speak(e)}}static \u0275fac=function(e){return new(e||i)(h(N),h(T))};static \u0275cmp=C({type:i,selectors:[["app-multiplication"]],hostBindings:function(e,n){e&1&&m("keydown.enter",function(f){return n.handleEnter(f)},!1,b)},decls:4,vars:2,consts:[["class","quiz-wrapper",4,"ngIf"],[4,"ngIf"],[1,"footer",2,"margin","auto","padding","10px","width","100%"],[1,"quiz-wrapper"],[1,"left-sidebar"],[1,"quiz-main-card"],[1,"quiz-header"],[1,"quiz-title","multiplication"],[1,"question-row"],[1,"character-container",3,"click"],["src","assets/images/bird1.png","alt","Bird Reader"],[1,"question-container"],["type","text","placeholder","",1,"answer-input",3,"ngModelChange","keyup.enter","ngModel"],["class","feedback",4,"ngIf"],[1,"button-group"],["style","background-color:#73AD21",3,"click",4,"ngIf"],["class","try-again",3,"click",4,"ngIf"],[1,"right-sidebar"],[3,"userName","score","currentQIndex","totalQuestions","elapsedTime"],[1,"feedback"],[2,"white-space","pre-line"],[2,"background-color","#73AD21",3,"click"],[1,"try-again",3,"click"]],template:function(e,n){e&1&&(_(0,U,21,16,"div",0)(1,W,3,0,"div",1),r(2,"div",2),g(3,"app-footer"),s()),e&2&&(l("ngIf",n.questions.length>0),a(),l("ngIf",n.questions.length===0))},dependencies:[Q,q,z,D,E,A,V,B,j,R],styles:[".quiz-title.multiplication[_ngcontent-%COMP%]{background-color:#d0f0d0;padding:10px;border-radius:8px;text-align:center}.answer-input[_ngcontent-%COMP%]{border:2px solid #2196f3;border-radius:5px;padding:4px 8px;width:60px;font-size:1rem;margin-left:8px}.feedback[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem;background-color:#f9f9f9;border-left:4px solid #2196f3}.left-sidebar[_ngcontent-%COMP%]{width:200px;height:100%}.quiz-main-card[_ngcontent-%COMP%]{flex:1;max-width:650px;background-color:#fff;padding:2rem;border-radius:12px;box-shadow:0 4px 20px #0000001a}.right-sidebar[_ngcontent-%COMP%]{width:220px;background-color:#f7f7f7;padding:1rem;border-radius:12px;height:20%;box-shadow:0 2px 10px #0000001a}.feedback[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background-color:#f1f1f1;border-radius:8px;font-size:1.1rem;color:#333}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;padding-top:10%}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.6rem 1.2rem;border:none;background-color:#2196f3;color:#fff;border-radius:6px;font-weight:700;cursor:pointer;transition:background-color .2s ease-in-out}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1976d2}.volume-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:1.2rem;cursor:pointer;margin-left:8px}.volume-btn[_ngcontent-%COMP%]:hover{color:#2196f3}.question-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.character-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:auto;cursor:pointer;filter:grayscale(50%);transition:filter .3s ease}.character-container[_ngcontent-%COMP%]   img.animate[_ngcontent-%COMP%]{filter:grayscale(0%);animation:_ngcontent-%COMP%_bounce .6s ease-in-out infinite}@keyframes _ngcontent-%COMP%_bounce{0%{transform:translateY(0)}to{transform:translateY(-10px)}}.lottie-anim[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-bottom:1rem}.answer-input[_ngcontent-%COMP%]{width:60px;border:2px solid #2196f3;border-radius:5px;padding:4px 8px;font-size:1.1rem;margin-left:8px}.feedback[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;font-size:1.2rem}.quiz-title.addition[_ngcontent-%COMP%]{background-color:#ffe0e0;padding:.8rem;border-radius:10px;text-align:center}.quiz-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;gap:2rem;margin:2rem auto;font-family:Poppins,sans-serif;flex-wrap:wrap}.quiz-title[_ngcontent-%COMP%]{background:#ffe0e0;padding:1rem;border-radius:8px;text-align:center;font-weight:700;font-size:1.4rem;margin-bottom:1rem}.character-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.correct-answer[_ngcontent-%COMP%]{color:green;margin-top:.5rem}.answer-input[_ngcontent-%COMP%]{width:80px;border:2px solid #2196f3;padding:5px;border-radius:6px}.submit-btn[_ngcontent-%COMP%]{background-color:#73ad21;padding:.6rem 1.2rem;color:#fff;border:none;border-radius:6px;font-weight:700;cursor:pointer}.character-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-top:1rem}.question-text[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:500}.answer-input[_ngcontent-%COMP%]{border:2px solid #2196f3;border-radius:5px;padding:4px 8px;width:60px;font-size:1.2rem;margin-left:8px}.feedback[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;border-radius:8px;font-size:1.1rem}.correct[_ngcontent-%COMP%]{color:green}.incorrect[_ngcontent-%COMP%]{color:red}.correct-answer[_ngcontent-%COMP%]{margin-top:.5rem;color:green;font-weight:500}.loading-text[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:1.2rem;color:#777}.rough-work-title[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;margin-top:2rem;margin-bottom:.5rem;color:#333}.grid-rough-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-bottom:1.5rem}.grid-rough-area[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]{display:flex;gap:4px}.grid-rough-area[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]   .grid-cell[_ngcontent-%COMP%]{width:28px;height:28px;border:1px solid #ccc;background-color:#fff}.whiteboard-rough-area[_ngcontent-%COMP%]{margin-top:1rem}.whiteboard-rough-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;font-size:1rem;border:1px solid #bbb;border-radius:6px;background-color:#fefefe;resize:vertical}"]})};export{L as MultiplicationComponent};
