
<div class="quiz-wrapper" *ngIf="questions.length > 0">
  <!-- LEFT SIDEBAR -->
  <div class="left-sidebar">
    <app-left-sidebar></app-left-sidebar>
  </div>

  <!-- MAIN QUIZ CONTENT -->
  <div class="quiz-main-card">
    <div class="quiz-header">
      <h2 class="quiz-title fmc">
        FMC â€“ Level {{ level }}
      </h2>
    </div>

    <!-- Question Section -->
    <div class="question-row">
      <div class="question-container">
        <p>
          {{ questions[currentQIndex]?.question }}
        </p>
        <label>
          Your answer:
          <input
            type="text"
            [(ngModel)]="userAnswer"
            (keydown.enter)="submitAnswer()"
            placeholder="Type your answer"
            />

        </label>
        <button class="submit-btn" (click)="submitAnswer()">Submit</button>
      </div>
    </div>

    <!-- Feedback -->
    <div class="feedback" *ngIf="feedbackMessage">
      <p>{{ feedbackMessage }}</p>
    </div>

    <!-- Retry -->
    <div *ngIf="isFinished">
      <h3>You scored {{ score }}/{{ questions.length }}</h3>
      <button (click)="tryAgain()">Try Again</button>
      <button (click)="reviewAnswers()">Review Your Answers</button>
    </div>
  </div>

  <!-- RIGHT SIDEBAR -->
  <div class="right-sidebar">
    <app-right-sidebar *ngIf="username"
      [username]="username"
      [score]="score"
      [currentQIndex]="currentQIndex"
      [totalQuestions]="questions.length"
      [elapsedTime]="elapsedTime">
    </app-right-sidebar>
  </div>
</div>

<!-- Fallback -->
<div *ngIf="questions.length === 0">
  <p>Loading questions...</p>
</div>

<!-- Footer -->
<div class="footer" style="margin: auto; padding: 10px; width: 100%;">
  <app-footer></app-footer>
</div>
